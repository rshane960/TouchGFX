###############################################################################
#
# IAR ANSI C/C++ Compiler V9.20.1.318/W64 for ARM         09/Feb/2022  10:51:08
# Copyright 1999-2021 IAR Systems AB.
#
#    Cpu mode                     =  thumb
#    Endian                       =  little
#    Source file                  =
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\TouchGFX\target\STM32TouchController.cpp
#        [UTF-8]
#    Command line                 =
#        -f
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\Obj\Application\User\TouchGFX\target\STM32TouchController.o.rsp
#        (D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\TouchGFX\target\STM32TouchController.cpp
#        -D USE_HAL_DRIVER -D STM32H7B3xxQ -D USE_BPP=24 -lC
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\List\Application\User\TouchGFX\target
#        -lA
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\List\Application\User\TouchGFX\target
#        -o
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\Obj\Application\User\TouchGFX\target
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M7 -e --fpu=VFPv5_d16 --dlib_config "C:\Program Files\IAR
#        Systems\Embedded Workbench 9.0\arm\inc\c\DLib_Config_Full.h" -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Core/Inc\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/App\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/target/generated\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/target\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Drivers/STM32H7xx_HAL_Driver/Inc\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Drivers/STM32H7xx_HAL_Driver/Inc/Legacy\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Middlewares/Third_Party/FreeRTOS/Source/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Middlewares/Third_Party/FreeRTOS/Source/portable/IAR/ARM_CM4F\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Drivers/CMSIS/Device/ST/STM32H7xx/Include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Drivers/CMSIS/Include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Drivers/BSP/Components/Common\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Drivers/BSP/STM32H7B3I-DK\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../Middlewares/ST/touchgfx/framework/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/generated/fonts/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/generated/gui_generated/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/generated/images/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/generated/texts/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/gui/include\
#        -I
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM/../TouchGFX/generated/videos/include\
#        -Ol --c++ --no_exceptions --no_rtti --no_static_destruction
#        --source_encoding utf8 --text_out utf8 --utf8_text_in)
#        --dependencies=n
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\Obj\Application\User\TouchGFX\target\STM32TouchController.o.d
#    Locale                       =  C
#    List file                    =
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\List\Application\User\TouchGFX\target\STM32TouchController.lst
#    Object file                  =
#        D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\EWARM\STM32H7B3I-DK\Obj\Application\User\TouchGFX\target\STM32TouchController.o
#    Runtime model:                  
#      __CPP_Exceptions           =  Disabled
#      __CPP_Language             =  C++14
#      __CPP_Library              =  DLib
#      __CPP_Runtime              =  1
#      __SystemLibrary            =  DLib
#      __dlib_full_locale_support =  1
#      __dlib_version             =  6
#
###############################################################################

D:\001_Project\B_TouchGFX_Stm32\TouchGFX\MyApplication\TouchGFX\target\STM32TouchController.cpp
      1          /**
      2            ******************************************************************************
      3            * File Name          : STM32TouchController.cpp
      4            ******************************************************************************
      5            * This file is generated by TouchGFX Generator 4.18.1.
      6            ******************************************************************************
      7            * @attention
      8            *
      9            * Copyright (c) 2022 STMicroelectronics.
     10            * All rights reserved.
     11            *
     12            * This software is licensed under terms that can be found in the LICENSE file
     13            * in the root directory of this software component.
     14            * If no LICENSE file comes with this software, it is provided AS-IS.
     15            *
     16            ******************************************************************************
     17            */
     18          
     19          /* USER CODE BEGIN STM32TouchController */
     20          
     21          #include <STM32TouchController.hpp>

   \                                 In section .text, align 2
   \   __vfp STM32TouchController::deleter ~STM32TouchController() noexcept
   \                     _ZN20STM32TouchControllerD0Ev: (+1)
   \        0x0   0xB510             PUSH     {R4,LR}
   \        0x2   0x0004             MOVS     R4,R0
   \        0x4   0x0020             MOVS     R0,R4
   \        0x6   0x.... 0x....      BL       _ZN20STM32TouchControllerD1Ev
   \        0xA   0x2104             MOVS     R1,#+4
   \        0xC   0x0020             MOVS     R0,R4
   \        0xE   0x.... 0x....      BL       _ZdlPvj
   \       0x12   0xBD10             POP      {R4,PC}

   \                                 In section .text, align 2
   \   __vfp STM32TouchController::~STM32TouchController() noexcept
   \                     _ZN20STM32TouchControllerD1Ev: (+1)
   \        0x0   0x4770             BX       LR
     22          #include <stm32h7b3i_discovery_ts.h>
     23          #include <TouchGFXHAL.hpp>
     24          #include <cmsis_os.h>
     25          

   \                                 In section .text, align 2, keep-with-next
     26          void STM32TouchController::init()
     27          {
   \                     _ZN20STM32TouchController4initEv: (+1)
   \        0x0   0xB5F8             PUSH     {R3-R7,LR}
     28              TS_Init_t hTS;
     29          
     30              hTS.Orientation = TS_SWAP_XY;
   \        0x2   0x2008             MOVS     R0,#+8
   \        0x4   0x9002             STR      R0,[SP, #+8]
     31              hTS.Accuracy = 0;
   \        0x6   0x2000             MOVS     R0,#+0
   \        0x8   0x9003             STR      R0,[SP, #+12]
     32              hTS.Width = touchgfx::HAL::FRAME_BUFFER_WIDTH;
   \        0xA   0x....             LDR.N    R0,??DataTable0
   \        0xC   0x8800             LDRH     R0,[R0, #+0]
   \        0xE   0x9000             STR      R0,[SP, #+0]
     33              hTS.Height = touchgfx::HAL::FRAME_BUFFER_HEIGHT;
   \       0x10   0x....             LDR.N    R0,??DataTable0_1
   \       0x12   0x8800             LDRH     R0,[R0, #+0]
   \       0x14   0x9001             STR      R0,[SP, #+4]
     34              BSP_TS_Init(0, &hTS);
   \       0x16   0x4669             MOV      R1,SP
   \       0x18   0x2000             MOVS     R0,#+0
   \       0x1A   0x.... 0x....      BL       BSP_TS_Init
     35          }
   \       0x1E   0xB005             ADD      SP,SP,#+20
   \       0x20   0xBD00             POP      {PC}
     36          

   \                                 In section .text, align 2, keep-with-next
     37          bool STM32TouchController::sampleTouch(int32_t& x, int32_t& y)
     38          {
   \                     _ZN20STM32TouchController11sampleTouchERiS0_: (+1)
   \        0x0   0xB53E             PUSH     {R1-R5,LR}
   \        0x2   0x000C             MOVS     R4,R1
   \        0x4   0x0015             MOVS     R5,R2
   \        0x6   0x220C             MOVS     R2,#+12
   \        0x8   0x2100             MOVS     R1,#+0
   \        0xA   0x4668             MOV      R0,SP
   \        0xC   0x.... 0x....      BL       memset
     39              TS_State_t TS_State = { 0 };
     40          
     41              /* This should never fail !! */
     42              if (BSP_TS_GetState(0, &TS_State) != BSP_ERROR_NONE)
   \       0x10   0x4669             MOV      R1,SP
   \       0x12   0x2000             MOVS     R0,#+0
   \       0x14   0x.... 0x....      BL       BSP_TS_GetState
   \       0x18   0x2800             CMP      R0,#+0
   \       0x1A   0xD007             BEQ.N    ??sampleTouch_0
     43              {
     44                  configASSERT(0);
   \       0x1C   0x2050             MOVS     R0,#+80
   \       0x1E   0xF380 0x8811      MSR      BASEPRI,R0
   \       0x22   0xF3BF 0x8F4F      DSB      SY
   \       0x26   0xF3BF 0x8F6F      ISB      SY
   \                     ??sampleTouch_1: (+1)
   \       0x2A   0xE7FE             B.N      ??sampleTouch_1
     45              }
     46          
     47              if (TS_State.TouchDetected)
   \                     ??sampleTouch_0: (+1)
   \       0x2C   0x9800             LDR      R0,[SP, #+0]
   \       0x2E   0x2800             CMP      R0,#+0
   \       0x30   0xD005             BEQ.N    ??sampleTouch_2
     48              {
     49                  x = TS_State.TouchX;
   \       0x32   0x9801             LDR      R0,[SP, #+4]
   \       0x34   0x6020             STR      R0,[R4, #+0]
     50                  y = TS_State.TouchY;
   \       0x36   0x9802             LDR      R0,[SP, #+8]
   \       0x38   0x6028             STR      R0,[R5, #+0]
     51          
     52                  return true;
   \       0x3A   0x2001             MOVS     R0,#+1
   \       0x3C   0xE000             B.N      ??sampleTouch_3
     53              }
     54          
     55              return false;
   \                     ??sampleTouch_2: (+1)
   \       0x3E   0x2000             MOVS     R0,#+0
   \                     ??sampleTouch_3: (+1)
   \       0x40   0xBD3E             POP      {R1-R5,PC}
     56          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0:
   \        0x0   0x....'....        DC32     _ZN8touchgfx3HAL18FRAME_BUFFER_WIDTHE

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_1:
   \        0x0   0x....'....        DC32     _ZN8touchgfx3HAL19FRAME_BUFFER_HEIGHTE
     57          
     58          /* USER CODE END STM32TouchController */
     59          
     60          /************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   STM32TouchController::deleter ~STM32TouchController() noexcept
         8   -> STM32TouchController::~STM32TouchController() noexcept
         8   -> operator delete(void *, unsigned int) noexcept
      24   STM32TouchController::init()
        24   -> BSP_TS_Init
      24   STM32TouchController::sampleTouch(int32_t &, int32_t &)
        24   -> BSP_TS_GetState
        24   -> memset
       0   STM32TouchController::~STM32TouchController() noexcept


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable0
       4  ??DataTable0_1
      20  STM32TouchController::deleter ~STM32TouchController() noexcept
      34  STM32TouchController::init()
      66  STM32TouchController::sampleTouch(int32_t &, int32_t &)
       2  STM32TouchController::~STM32TouchController() noexcept
     100  -- Other

 
 100 bytes in section .rodata
 130 bytes in section .text
 
 108 bytes of CODE  memory (+  22 bytes shared)
   0 bytes of CONST memory (+ 100 bytes shared)

Errors: none
Warnings: none
